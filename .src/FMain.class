' Gambas class file


Public Sub showHideToggle_Click()

  If showHideToggle.Value = False Then
    Shell "rm ~/.config/autostart/ubuntu-ce-welcome.desktop" Wait
  Else
    Shell "cp /usr/share/applications/ubuntu-ce-welcome.desktop ~/.config/autostart/" Wait
  End If

End

Public Sub Form_Open()

  If Exist(User.Home &/ ".config/autostart/ubuntu-ce-welcome.desktop") Then 
    Shell "rm /tmp/ce-w-startup-true" Wait
    Shell "rm /tmp/uce-w-startup-false" Wait

    Shell "if grep -Fxq 'X-GNOME-Autostart-enabled=true' ~/.config/autostart/ubuntu-ce-welcome.desktop; then touch /tmp/uce-w-startup-true; fi" Wait
    Shell "if grep -Fxq 'X-GNOME-Autostart-enabled=false' ~/.config/autostart/ubuntu-ce-welcome.desktop; then touch /tmp/uce-w-startup-false; fi" Wait
    
    If Exist("/tmp/uce-w-startup-true") Then
      showHideToggle.Value = True
    End If
    If Exist("/tmp/uce-w-startup-false") Then
      showHideToggle.Value = False
    End If
  Else
    showHideToggle.Value = False
  End If

End

Public Sub Form_Close()

    Shell "rm /tmp/ce-w-startup-true" Wait
    Shell "rm /tmp/uce-w-startup-false" Wait
    
End



Public Sub patreonLauncher_MouseDown()

  Shell "xdg-open 'https://www.patreon.com/ubuntuce'"

End


Public Sub changeWallpaper_Click()

  Exec ["gnome-control-center", "background"]

End

Public Sub selectTheme_Click()

  Exec ["gnome-control-center", "ubuntu"]

End

Public Sub hostMinderLauncher_Click()

  Exec ["hostminder"]

End


Public Sub docsLauncher_Click()

  Shell "xdg-open 'https://docs.ubuntuce.com'"

End

Public Sub dnsminderLauncher_Click()

  Exec ["dnsminder"]

End

Public Sub launchBibleTime_Click()

  Exec ["bibletime"]

End


Public Sub launchXiphos_Click()

  Exec ["xiphos"]

End

Public Sub launchBibledit_Click()

  Exec ["bibledit"]

End


Public Sub launchPresenter_Click()

  Exec ["launch-presenter.sh"]

End

Public Sub DnsMinder_Click()

  Exec ["dnsminder"]

End

Public Sub HostMinder_Click()

  Exec ["hostminder"]

End

Public Sub BollsBible_Click()

  Exec ["flatpak", "run", "life.bolls.bolls"]

End

Public Sub FloodlightPresenter_Click()

  Exec ["flatpak", "run", "io.gitlab.floodlight.Presenter"]

End

Public Sub SonOfMan_Click()

  Exec ["gnome-terminal", "--", "bash", "-c", "flatpak run org.hlwd.sonofman"]

End

Public Sub BibleKjv_Click()

    Exec ["gnome-terminal", "--", "bash", "-c", "bible"]

End

Public Sub OpenLp_Click()

  Exec ["openlp"]

End


Public Sub ParentalControls_Click()

  Exec ["ubuntu-ce-parental-controls"]

End

Public Sub TimeKprNext_Click()

  Exec ["timekpra"]

End
